{
  "version": "2.0",
  "lastUpdated": "2024-12-29",
  
  "cardsMatching": {
    "baseScore": 40,
    
    "weights": {
      "paymentBehavior": 25,
      "feeSensitivity": 20,
      "incomeMatch": 15,
      "digitalPreference": 10,
      "interests": 10,
      "cardUsage": 10,
      "painPointsSolved": 15,
      "travelPreference": 10,
      "values": 5
    },
    
    "bonuses": {
      "perfectPaymentMatch": 10,
      "multipleInterestMatch": 5,
      "painPointDirectSolve": 15,
      "shoppingPlaceMatch": 8,
      "teamAffinity": 5
    },
    
    "penalties": {
      "incomeBelowMinimum": -50,
      "creditHistoryMismatch": -20,
      "reportedNoOptions": -30
    },
    
    "rules": {
      "nueva_tarjeta": {
        "excludeCurrentBank": false,
        "prioritize": ["benefits", "approval_ease"]
      },
      "cambiar_tarjeta": {
        "excludeCurrentBank": true,
        "prioritize": ["painPointsSolved", "improvement"]
      }
    },
    
    "painPointMapping": {
      "cuota_alta": {
        "prioritize": ["sin_cuota"],
        "idealCards": ["nu_classic", "rappi_card", "falabella_cmr", "bbva_aqua"]
      },
      "tasa_alta": {
        "prioritize": ["tasa_baja"],
        "idealCards": ["scotiabank_platinum", "bbva_aqua"]
      },
      "pocos_beneficios": {
        "prioritize": ["rewards", "cashback", "millas"],
        "idealCards": ["rappi_card", "avianca_lifemiles_gold", "latam_pass_platinum"]
      },
      "app_mala": {
        "prioritize": ["digital"],
        "idealCards": ["nu_classic", "rappi_card", "bbva_aqua"]
      },
      "sin_millas": {
        "prioritize": ["millas"],
        "idealCards": ["avianca_lifemiles_gold", "latam_pass_platinum"]
      },
      "comision_internacional": {
        "prioritize": ["sin_comision_internacional"],
        "idealCards": ["bbva_aqua", "latam_pass_platinum", "amex_green"]
      }
    }
  },
  
  "businessMatching": {
    "baseScore": 40,
    
    "weights": {
      "businessStageMatch": 25,
      "legalStatusMatch": 20,
      "amountFit": 15,
      "urgencyMatch": 15,
      "purposeMatch": 10,
      "processPreference": 10,
      "rateVsSpeedPreference": 5
    },
    
    "bonuses": {
      "perfectStageMatch": 10,
      "hasBoldForBoldCapital": 20,
      "formalForBankLoans": 10,
      "highRevenueForBetterRates": 8
    },
    
    "penalties": {
      "informalForBankLoans": -50,
      "lowRevenueForHighAmount": -30,
      "noHistoryForLargeLoans": -20,
      "urgentForSlowProcess": -15
    },
    
    "eligibilityRules": {
      "informal": {
        "eligible": ["bold_capital", "aflore_microcredito", "monet_prestamo"],
        "ineligible": ["bancolombia_pyme", "davivienda_emprendedor", "bbva_pyme", "bancoldex_mipyme", "sempli_credito", "finaktiva_credito"]
      },
      "rut_only": {
        "eligible": ["bold_capital", "aflore_microcredito", "monet_prestamo", "davivienda_emprendedor"],
        "conditionalEligible": ["sempli_credito"]
      },
      "persona_natural": {
        "eligible": ["bold_capital", "aflore_microcredito", "monet_prestamo", "davivienda_emprendedor", "sempli_credito", "finaktiva_credito"],
        "conditionalEligible": ["bancolombia_pyme"]
      },
      "sas": {
        "eligible": "all"
      }
    },
    
    "urgencyMapping": {
      "muy_urgente": {
        "prioritize": ["bold_capital", "monet_prestamo", "aflore_microcredito"],
        "avoid": ["bancoldex_mipyme", "bancolombia_pyme"]
      },
      "urgente": {
        "prioritize": ["bold_capital", "sempli_credito", "finaktiva_credito"],
        "avoid": ["bancoldex_mipyme"]
      },
      "normal": {
        "prioritize": ["sempli_credito", "finaktiva_credito", "davivienda_emprendedor"],
        "neutral": "all"
      },
      "flexible": {
        "prioritize": ["bancoldex_mipyme", "bancolombia_pyme", "bbva_pyme"],
        "note": "Best rates available"
      }
    },
    
    "amountMapping": {
      "0-5": {
        "ideal": ["aflore_microcredito", "monet_prestamo", "bold_capital"]
      },
      "5-20": {
        "ideal": ["bold_capital", "aflore_microcredito", "sempli_credito"]
      },
      "20-50": {
        "ideal": ["sempli_credito", "finaktiva_credito", "davivienda_emprendedor"]
      },
      "50-100": {
        "ideal": ["sempli_credito", "finaktiva_credito", "davivienda_emprendedor", "bancolombia_pyme"]
      },
      "100-200": {
        "ideal": ["finaktiva_credito", "bancolombia_pyme", "bbva_pyme"]
      },
      "200+": {
        "ideal": ["bancolombia_pyme", "bbva_pyme", "bancoldex_mipyme", "finaktiva_credito"]
      }
    }
  },
  
  "savingsCalculation": {
    "cards": {
      "method": "annual_savings",
      "factors": [
        {
          "type": "fee_savings",
          "description": "Ahorro en cuota de manejo",
          "calculation": "(current_fee - new_fee) * 12"
        },
        {
          "type": "cashback_earnings",
          "description": "Cashback ganado",
          "calculation": "monthly_spend * cashback_percent * 12"
        },
        {
          "type": "miles_value",
          "description": "Valor de millas acumuladas",
          "calculation": "monthly_spend * miles_per_million * 12 * 35",
          "note": "35 COP per mile average value"
        },
        {
          "type": "interest_savings",
          "description": "Ahorro en intereses (si financia)",
          "calculation": "average_balance * (old_rate - new_rate)",
          "applies_if": "payment_behavior in [sometimes, finance, minimum]"
        }
      ]
    },
    "business": {
      "method": "comparison",
      "displayAs": "Costo total estimado",
      "factors": [
        {
          "type": "total_interest",
          "description": "Intereses totales",
          "calculation": "amount * rate * term"
        },
        {
          "type": "fees",
          "description": "Comisiones",
          "calculation": "amount * origination_fee"
        },
        {
          "type": "speed_value",
          "description": "Valor del tiempo (informal)",
          "note": "Faster = premium acceptable"
        }
      ]
    }
  }
}
